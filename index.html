<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Web Push Notification Learning</title>

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <link href="/css/style.css" rel="stylesheet">

    <link href="/app.webmanifest" rel="manifest">

    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>    

    <link rel="apple-touch-icon" sizes="192x192" href="/img/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/img/icons/icon-48x48.png">

    <meta name="msapplication-TileColor" content="#da532c">
    
    <meta name="theme-color" content="#ffffff">

    <script>
        window.OneSignal = window.OneSignal || [];
        OneSignal.push(function() {
            OneSignal.init({
                appId: "84e1510a-084d-4a1c-9615-a575f356d6b6",
            });
        });        
    </script>
</head>
<body>
    <div id="push-alert" hidden>Your web browser doesn't support push notifications</div>

    <div class="wrapper">
        <header>
            <h1>Web Push Notification Learning</h1>
        </header>
        
        <main>            
            <h2>Instructions</h2>
            
            <ol>
                <li>Scan the QR-Code to get the URL of this web site on your smart device</li>
                <li>Add this Web App to your <strong>homescreen</strong> (iOS 16.4+)</li>
                <li>Open this Web App from the homescreen (it should be displayed fullscreen)</li>
                <li>After about 5 seconds you'll be asked to subscribe to this web site for <em>push notifications</em></li>
            </ol>

            <h2>QR-Code to the URL of this demo Web App</h2>
    
            <img src="/img/qr-code.svg" width="250" height="250" alt="QR-code of this web site's URL">
        </main>
        
        <footer>
            <p>&copy; By Dennis Burger, March 2023</p>

            <p><a href="https://github.com/dutchwebworks/web-push-notification-learning" target="_blank">View on Github</a></p>
        </footer>
    </div>

    <script>
        // Check if push is supported
        if(!"serviceWorker" in navigator && !"PushManager" in window) {
            document.getElementById("push-alert").removeAttribute("hidden");
        }
    </script>
</body>
</html>